-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Jan 22, 2026 at 08:39 AM
-- Server version: 10.4.32-MariaDB
-- PHP Version: 8.0.30

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `khaservice_hr_db`
--

-- --------------------------------------------------------

--
-- Table structure for table `attendance`
--

CREATE TABLE `attendance` (
  `id` int(11) NOT NULL,
  `employee_id` int(11) NOT NULL,
  `project_id` int(11) NOT NULL,
  `shift_id` int(11) NOT NULL,
  `date` date NOT NULL,
  `check_in` datetime DEFAULT NULL,
  `check_out` datetime DEFAULT NULL,
  `status` enum('working','completed','absent','leave','late','early') DEFAULT 'working',
  `timekeeper_symbol` varchar(10) DEFAULT NULL,
  `overtime_hours` float DEFAULT 0,
  `is_manual_import` tinyint(1) DEFAULT 0,
  `note` text DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `attendance`
--

INSERT INTO `attendance` (`id`, `employee_id`, `project_id`, `shift_id`, `date`, `check_in`, `check_out`, `status`, `timekeeper_symbol`, `overtime_hours`, `is_manual_import`, `note`, `created_at`, `updated_at`) VALUES
(1, 1, 37, 1, '2026-01-20', '2026-01-20 05:23:24', NULL, 'working', 'X', 0, 0, NULL, '2026-01-20 04:23:24', '2026-01-22 07:19:33'),
(2, 2, 13, 0, '2026-01-01', NULL, NULL, 'working', 'L', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:57:47'),
(3, 2, 13, 0, '2026-01-02', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(4, 2, 13, 0, '2026-01-03', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(5, 2, 13, 0, '2026-01-04', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:16:33'),
(6, 2, 13, 0, '2026-01-05', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(7, 2, 13, 0, '2026-01-06', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(8, 2, 13, 0, '2026-01-07', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(9, 2, 13, 0, '2026-01-08', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(10, 2, 13, 0, '2026-01-09', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(11, 2, 13, 0, '2026-01-10', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(12, 2, 13, 0, '2026-01-11', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:16:33'),
(13, 2, 13, 0, '2026-01-12', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(14, 2, 13, 0, '2026-01-13', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(15, 2, 13, 0, '2026-01-14', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(16, 2, 13, 0, '2026-01-15', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(17, 2, 13, 0, '2026-01-16', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(18, 2, 13, 0, '2026-01-17', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(19, 2, 13, 0, '2026-01-18', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:11:02'),
(20, 2, 13, 0, '2026-01-19', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(21, 2, 13, 0, '2026-01-20', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(22, 2, 13, 0, '2026-01-21', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(23, 2, 13, 0, '2026-01-22', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(24, 2, 13, 0, '2026-01-23', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(25, 2, 13, 0, '2026-01-24', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(26, 2, 13, 0, '2026-01-25', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:16:33'),
(27, 2, 13, 0, '2026-01-26', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(28, 2, 13, 0, '2026-01-27', NULL, NULL, 'working', 'P', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-22 05:54:06'),
(29, 2, 13, 0, '2026-01-28', NULL, NULL, 'working', 'P', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-22 05:54:06'),
(30, 2, 13, 0, '2026-01-29', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-22 05:46:28'),
(31, 2, 13, 0, '2026-01-30', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(32, 2, 13, 0, '2026-01-31', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 06:04:21', '2026-01-21 06:49:30'),
(33, 14, 32, 0, '2026-01-01', NULL, NULL, 'working', 'L', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-22 06:33:34'),
(34, 14, 32, 0, '2026-01-02', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(35, 14, 32, 0, '2026-01-03', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(36, 14, 32, 0, '2026-01-05', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(37, 14, 32, 0, '2026-01-06', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(38, 14, 32, 0, '2026-01-07', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(39, 14, 32, 0, '2026-01-08', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(40, 14, 32, 0, '2026-01-09', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(41, 14, 32, 0, '2026-01-10', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(42, 14, 32, 0, '2026-01-12', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(43, 14, 32, 0, '2026-01-13', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(44, 14, 32, 0, '2026-01-14', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(45, 14, 32, 0, '2026-01-15', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(46, 14, 32, 0, '2026-01-16', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(47, 14, 32, 0, '2026-01-17', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(48, 14, 32, 0, '2026-01-19', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(49, 14, 32, 0, '2026-01-20', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(50, 14, 32, 0, '2026-01-21', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(51, 14, 32, 0, '2026-01-22', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(52, 14, 32, 0, '2026-01-23', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(53, 14, 32, 0, '2026-01-24', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(54, 14, 32, 0, '2026-01-26', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(55, 14, 32, 0, '2026-01-27', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(56, 14, 32, 0, '2026-01-28', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(57, 14, 32, 0, '2026-01-29', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(58, 14, 32, 0, '2026-01-30', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(59, 14, 32, 0, '2026-01-31', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:49:23', '2026-01-21 07:49:23'),
(60, 12, 32, 0, '2026-01-01', NULL, NULL, 'working', 'L', 0, 0, NULL, '2026-01-21 07:58:52', '2026-01-21 08:24:41'),
(61, 12, 32, 0, '2026-01-02', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:58:52', '2026-01-22 06:35:08'),
(62, 12, 32, 0, '2026-01-03', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:58:52', '2026-01-21 07:58:52'),
(63, 12, 32, 0, '2026-01-05', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:58:52', '2026-01-22 06:35:08'),
(64, 12, 32, 0, '2026-01-06', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:58:52', '2026-01-21 07:58:52'),
(65, 12, 32, 0, '2026-01-07', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:58:52', '2026-01-21 07:58:52'),
(66, 12, 32, 0, '2026-01-08', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:58:52', '2026-01-22 06:35:08'),
(67, 12, 32, 0, '2026-01-09', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:58:52', '2026-01-22 06:35:08'),
(68, 12, 32, 0, '2026-01-10', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 07:58:52', '2026-01-22 06:35:08'),
(69, 12, 32, 0, '2026-01-12', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-22 06:35:08'),
(70, 12, 32, 0, '2026-01-13', NULL, NULL, 'working', 'P', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-22 03:31:11'),
(71, 12, 32, 0, '2026-01-14', NULL, NULL, 'working', 'P', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-22 03:31:11'),
(72, 12, 32, 0, '2026-01-15', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-21 08:23:46'),
(73, 12, 32, 0, '2026-01-16', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-22 06:35:08'),
(74, 12, 32, 0, '2026-01-17', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-21 08:23:46'),
(75, 12, 32, 0, '2026-01-19', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-22 06:35:08'),
(76, 12, 32, 0, '2026-01-20', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-21 08:23:46'),
(77, 12, 32, 0, '2026-01-21', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-21 08:23:46'),
(78, 12, 32, 0, '2026-01-22', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-21 08:23:46'),
(79, 12, 32, 0, '2026-01-23', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-21 08:23:46'),
(80, 12, 32, 0, '2026-01-24', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-21 08:23:46'),
(81, 12, 32, 0, '2026-01-26', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-21 08:23:46'),
(82, 12, 32, 0, '2026-01-27', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-21 08:23:46'),
(83, 12, 32, 0, '2026-01-28', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-21 08:23:46'),
(84, 12, 32, 0, '2026-01-29', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-21 08:23:46'),
(85, 12, 32, 0, '2026-01-30', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-21 08:23:46'),
(86, 12, 32, 0, '2026-01-31', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-21 08:23:46', '2026-01-21 08:23:46'),
(87, 12, 32, 0, '2026-01-11', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 03:59:08', '2026-01-22 06:35:08'),
(88, 15, 32, 0, '2026-01-01', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:07', '2026-01-22 06:35:08'),
(89, 15, 32, 0, '2026-01-02', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:07', '2026-01-22 06:35:08'),
(90, 15, 32, 0, '2026-01-03', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:07', '2026-01-22 06:35:08'),
(91, 15, 32, 0, '2026-01-05', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:07', '2026-01-22 06:35:08'),
(92, 15, 32, 0, '2026-01-06', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:07', '2026-01-22 06:35:08'),
(93, 15, 32, 0, '2026-01-07', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:07', '2026-01-22 06:35:08'),
(94, 15, 32, 0, '2026-01-08', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:07', '2026-01-22 06:35:08'),
(95, 15, 32, 0, '2026-01-09', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:07', '2026-01-22 06:35:08'),
(96, 15, 32, 0, '2026-01-10', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:07', '2026-01-22 06:35:08'),
(97, 15, 32, 0, '2026-01-12', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:08', '2026-01-22 06:35:08'),
(98, 15, 32, 0, '2026-01-13', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:08', '2026-01-22 06:35:08'),
(99, 15, 32, 0, '2026-01-14', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:08', '2026-01-22 06:35:08'),
(100, 15, 32, 0, '2026-01-15', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:08', '2026-01-22 06:35:08'),
(101, 15, 32, 0, '2026-01-16', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:08', '2026-01-22 06:35:08'),
(102, 15, 32, 0, '2026-01-17', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:08', '2026-01-22 06:35:08'),
(103, 15, 32, 0, '2026-01-19', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:08', '2026-01-22 06:35:08'),
(104, 15, 32, 0, '2026-01-20', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:08', '2026-01-22 06:35:08'),
(105, 15, 32, 0, '2026-01-21', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:08', '2026-01-22 06:35:08'),
(106, 15, 32, 0, '2026-01-22', NULL, NULL, 'working', NULL, 0, 0, NULL, '2026-01-22 04:46:08', '2026-01-22 06:35:08'),
(107, 2, 13, 0, '2025-10-01', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(108, 2, 13, 0, '2025-10-02', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(109, 2, 13, 0, '2025-10-03', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(110, 2, 13, 0, '2025-10-04', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(111, 2, 13, 0, '2025-10-06', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(112, 2, 13, 0, '2025-10-07', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(113, 2, 13, 0, '2025-10-08', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(114, 2, 13, 0, '2025-10-09', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(115, 2, 13, 0, '2025-10-10', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(116, 2, 13, 0, '2025-10-11', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(117, 2, 13, 0, '2025-10-13', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(118, 2, 13, 0, '2025-10-14', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(119, 2, 13, 0, '2025-10-15', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(120, 2, 13, 0, '2025-10-16', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(121, 2, 13, 0, '2025-10-17', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(122, 2, 13, 0, '2025-10-18', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(123, 2, 13, 0, '2025-10-20', NULL, NULL, 'working', 'P', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:55:46'),
(124, 2, 13, 0, '2025-10-21', NULL, NULL, 'working', 'P', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:55:46'),
(125, 2, 13, 0, '2025-10-22', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(126, 2, 13, 0, '2025-10-23', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(127, 2, 13, 0, '2025-10-24', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(128, 2, 13, 0, '2025-10-25', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(129, 2, 13, 0, '2025-10-27', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(130, 2, 13, 0, '2025-10-28', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(131, 2, 13, 0, '2025-10-29', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(132, 2, 13, 0, '2025-10-30', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(133, 2, 13, 0, '2025-10-31', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:23', '2026-01-22 05:49:23'),
(134, 2, 13, 0, '2025-11-01', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:50', '2026-01-22 05:49:50'),
(135, 2, 13, 0, '2025-11-02', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 05:49:50', '2026-01-22 05:49:50'),
(136, 13, 32, 0, '2026-01-01', NULL, NULL, 'working', 'L', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(137, 13, 32, 0, '2026-01-02', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(138, 13, 32, 0, '2026-01-03', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(139, 13, 32, 0, '2026-01-05', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(140, 13, 32, 0, '2026-01-06', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(141, 13, 32, 0, '2026-01-07', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(142, 13, 32, 0, '2026-01-08', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(143, 13, 32, 0, '2026-01-09', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(144, 13, 32, 0, '2026-01-10', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(145, 13, 32, 0, '2026-01-12', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(146, 13, 32, 0, '2026-01-13', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(147, 13, 32, 0, '2026-01-14', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(148, 13, 32, 0, '2026-01-15', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(149, 13, 32, 0, '2026-01-16', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(150, 13, 32, 0, '2026-01-17', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(151, 13, 32, 0, '2026-01-19', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(152, 13, 32, 0, '2026-01-20', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(153, 13, 32, 0, '2026-01-21', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(154, 13, 32, 0, '2026-01-22', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(155, 13, 32, 0, '2026-01-23', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(156, 13, 32, 0, '2026-01-24', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(157, 13, 32, 0, '2026-01-26', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(158, 13, 32, 0, '2026-01-27', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(159, 13, 32, 0, '2026-01-28', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(160, 13, 32, 0, '2026-01-29', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(161, 13, 32, 0, '2026-01-30', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(162, 13, 32, 0, '2026-01-31', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 06:35:08', '2026-01-22 06:35:08'),
(163, 1, 37, 0, '2026-01-01', NULL, NULL, 'working', 'L', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:47'),
(164, 1, 37, 0, '2026-01-02', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(165, 1, 37, 0, '2026-01-03', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(166, 1, 37, 0, '2026-01-05', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(167, 1, 37, 0, '2026-01-06', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(168, 1, 37, 0, '2026-01-07', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(169, 1, 37, 0, '2026-01-08', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(170, 1, 37, 0, '2026-01-09', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(171, 1, 37, 0, '2026-01-10', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(172, 1, 37, 0, '2026-01-12', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(173, 1, 37, 0, '2026-01-13', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(174, 1, 37, 0, '2026-01-14', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(175, 1, 37, 0, '2026-01-15', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(176, 1, 37, 0, '2026-01-16', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(177, 1, 37, 0, '2026-01-17', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(178, 1, 37, 0, '2026-01-19', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(179, 1, 37, 0, '2026-01-21', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(180, 1, 37, 0, '2026-01-22', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(181, 1, 37, 0, '2026-01-23', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(182, 1, 37, 0, '2026-01-24', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(183, 1, 37, 0, '2026-01-26', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(184, 1, 37, 0, '2026-01-27', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(185, 1, 37, 0, '2026-01-28', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(186, 1, 37, 0, '2026-01-29', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(187, 1, 37, 0, '2026-01-30', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33'),
(188, 1, 37, 0, '2026-01-31', NULL, NULL, 'working', 'X', 0, 0, NULL, '2026-01-22 07:19:33', '2026-01-22 07:19:33');

-- --------------------------------------------------------

--
-- Table structure for table `attendance_locks`
--

CREATE TABLE `attendance_locks` (
  `id` int(11) NOT NULL,
  `project_id` int(11) NOT NULL DEFAULT 0 COMMENT '0: Global Lock (nếu cần), >0: Project Lock',
  `month` int(2) NOT NULL,
  `year` int(4) NOT NULL,
  `is_locked` tinyint(1) DEFAULT 0,
  `locked_by` int(11) DEFAULT NULL,
  `locked_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `attendance_locks`
--

INSERT INTO `attendance_locks` (`id`, `project_id`, `month`, `year`, `is_locked`, `locked_by`, `locked_at`) VALUES
(1, 13, 1, 2026, 0, 1, '2026-01-22 05:46:21'),
(6, 32, 1, 2026, 1, 1, '2026-01-22 07:24:28'),
(14, 37, 1, 2026, 1, 1, '2026-01-22 07:25:50');

-- --------------------------------------------------------

--
-- Table structure for table `attendance_logs`
--

CREATE TABLE `attendance_logs` (
  `id` int(11) NOT NULL,
  `employee_id` int(11) NOT NULL,
  `project_id` int(11) NOT NULL,
  `attendance_date` date NOT NULL,
  `old_value` varchar(10) DEFAULT NULL,
  `new_value` varchar(10) DEFAULT NULL,
  `field_type` enum('symbol','ot') DEFAULT 'symbol',
  `changed_by` int(11) DEFAULT NULL,
  `changed_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `attendance_logs`
--

INSERT INTO `attendance_logs` (`id`, `employee_id`, `project_id`, `attendance_date`, `old_value`, `new_value`, `field_type`, `changed_by`, `changed_at`) VALUES
(1, 12, 32, '2026-01-13', 'X', 'P', 'symbol', 1, '2026-01-22 03:31:11'),
(2, 12, 32, '2026-01-14', 'X', 'P', 'symbol', 1, '2026-01-22 03:31:11'),
(3, 12, 32, '2026-01-02', 'X', '1/2', 'symbol', 1, '2026-01-22 03:59:08'),
(4, 12, 32, '2026-01-05', 'X', '1/P', 'symbol', 1, '2026-01-22 03:59:08'),
(5, 12, 32, '2026-01-08', 'X', 'Ô', 'symbol', 1, '2026-01-22 03:59:08'),
(6, 12, 32, '2026-01-09', 'X', 'R', 'symbol', 1, '2026-01-22 03:59:08'),
(7, 12, 32, '2026-01-10', 'X', 'F', 'symbol', 1, '2026-01-22 03:59:08'),
(8, 12, 32, '2026-01-11', '', 'F1', 'symbol', 1, '2026-01-22 03:59:08'),
(9, 12, 32, '2026-01-12', 'X', 'CD', 'symbol', 1, '2026-01-22 03:59:08'),
(10, 12, 32, '2026-01-16', 'X', 'TS', 'symbol', 1, '2026-01-22 03:59:08'),
(11, 12, 32, '2026-01-19', 'X', 'NB', 'symbol', 1, '2026-01-22 03:59:08'),
(12, 15, 32, '2026-01-01', '', 'X', 'symbol', 1, '2026-01-22 04:46:07'),
(13, 15, 32, '2026-01-02', '', 'X', 'symbol', 1, '2026-01-22 04:46:07'),
(14, 15, 32, '2026-01-03', '', 'X', 'symbol', 1, '2026-01-22 04:46:07'),
(15, 15, 32, '2026-01-05', '', 'X', 'symbol', 1, '2026-01-22 04:46:07'),
(16, 15, 32, '2026-01-06', '', 'X', 'symbol', 1, '2026-01-22 04:46:07'),
(17, 15, 32, '2026-01-07', '', 'X', 'symbol', 1, '2026-01-22 04:46:07'),
(18, 15, 32, '2026-01-08', '', 'X', 'symbol', 1, '2026-01-22 04:46:07'),
(19, 15, 32, '2026-01-09', '', 'X', 'symbol', 1, '2026-01-22 04:46:07'),
(20, 15, 32, '2026-01-10', '', 'X', 'symbol', 1, '2026-01-22 04:46:07'),
(21, 15, 32, '2026-01-12', '', 'X', 'symbol', 1, '2026-01-22 04:46:07'),
(22, 15, 32, '2026-01-13', '', 'X', 'symbol', 1, '2026-01-22 04:46:08'),
(23, 15, 32, '2026-01-14', '', 'X', 'symbol', 1, '2026-01-22 04:46:08'),
(24, 15, 32, '2026-01-15', '', 'X', 'symbol', 1, '2026-01-22 04:46:08'),
(25, 15, 32, '2026-01-16', '', 'X', 'symbol', 1, '2026-01-22 04:46:08'),
(26, 15, 32, '2026-01-17', '', 'X', 'symbol', 1, '2026-01-22 04:46:08'),
(27, 15, 32, '2026-01-19', '', 'X', 'symbol', 1, '2026-01-22 04:46:08'),
(28, 15, 32, '2026-01-20', '', 'X', 'symbol', 1, '2026-01-22 04:46:08'),
(29, 15, 32, '2026-01-21', '', 'X', 'symbol', 1, '2026-01-22 04:46:08'),
(30, 15, 32, '2026-01-22', '', 'X', 'symbol', 1, '2026-01-22 04:46:08'),
(31, 14, 32, '2026-01-01', '0', '12', 'ot', 1, '2026-01-22 04:50:24'),
(32, 15, 32, '2026-01-01', '0', '12', 'ot', 1, '2026-01-22 04:50:24'),
(33, 15, 32, '2026-01-02', '0', '12', 'ot', 1, '2026-01-22 04:50:24'),
(34, 15, 32, '2026-01-03', '0', '12', 'ot', 1, '2026-01-22 04:50:24'),
(35, 15, 32, '2026-01-05', '0', '12', 'ot', 1, '2026-01-22 04:50:24'),
(36, 15, 32, '2026-01-06', '0', '12', 'ot', 1, '2026-01-22 04:50:24'),
(37, 15, 32, '2026-01-07', '0', '12', 'ot', 1, '2026-01-22 04:50:24'),
(38, 15, 32, '2026-01-08', '0', '12', 'ot', 1, '2026-01-22 04:50:24'),
(39, 15, 32, '2026-01-09', '0', '12', 'ot', 1, '2026-01-22 04:50:25'),
(40, 2, 13, '2026-01-28', 'P', 'X', 'symbol', 1, '2026-01-22 05:46:28'),
(41, 2, 13, '2026-01-29', 'P', 'X', 'symbol', 1, '2026-01-22 05:46:28'),
(42, 2, 13, '2025-10-01', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(43, 2, 13, '2025-10-02', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(44, 2, 13, '2025-10-03', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(45, 2, 13, '2025-10-04', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(46, 2, 13, '2025-10-06', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(47, 2, 13, '2025-10-07', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(48, 2, 13, '2025-10-08', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(49, 2, 13, '2025-10-09', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(50, 2, 13, '2025-10-10', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(51, 2, 13, '2025-10-11', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(52, 2, 13, '2025-10-13', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(53, 2, 13, '2025-10-14', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(54, 2, 13, '2025-10-15', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(55, 2, 13, '2025-10-16', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(56, 2, 13, '2025-10-17', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(57, 2, 13, '2025-10-18', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(58, 2, 13, '2025-10-20', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(59, 2, 13, '2025-10-21', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(60, 2, 13, '2025-10-22', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(61, 2, 13, '2025-10-23', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(62, 2, 13, '2025-10-24', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(63, 2, 13, '2025-10-25', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(64, 2, 13, '2025-10-27', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(65, 2, 13, '2025-10-28', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(66, 2, 13, '2025-10-29', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(67, 2, 13, '2025-10-30', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(68, 2, 13, '2025-10-31', '', 'X', 'symbol', 1, '2026-01-22 05:49:23'),
(69, 2, 13, '2025-11-01', '', 'X', 'symbol', 1, '2026-01-22 05:49:50'),
(70, 2, 13, '2025-11-02', '', 'X', 'symbol', 1, '2026-01-22 05:49:50'),
(71, 2, 13, '2026-01-27', 'X', 'P', 'symbol', 1, '2026-01-22 05:54:06'),
(72, 2, 13, '2026-01-28', 'X', 'P', 'symbol', 1, '2026-01-22 05:54:06'),
(73, 2, 13, '2025-10-20', 'X', 'P', 'symbol', 1, '2026-01-22 05:55:46'),
(74, 2, 13, '2025-10-21', 'X', 'P', 'symbol', 1, '2026-01-22 05:55:46'),
(75, 14, 32, '2026-01-01', '12', '0', 'ot', 1, '2026-01-22 06:33:34'),
(76, 15, 32, '2026-01-01', '12', '0', 'ot', 1, '2026-01-22 06:33:34'),
(77, 15, 32, '2026-01-02', '12', '0', 'ot', 1, '2026-01-22 06:33:34'),
(78, 15, 32, '2026-01-03', '12', '0', 'ot', 1, '2026-01-22 06:33:34'),
(79, 15, 32, '2026-01-05', '12', '0', 'ot', 1, '2026-01-22 06:33:34'),
(80, 15, 32, '2026-01-06', '12', '0', 'ot', 1, '2026-01-22 06:33:34'),
(81, 15, 32, '2026-01-07', '12', '0', 'ot', 1, '2026-01-22 06:33:34'),
(82, 15, 32, '2026-01-08', '12', '0', 'ot', 1, '2026-01-22 06:33:34'),
(83, 15, 32, '2026-01-09', '12', '0', 'ot', 1, '2026-01-22 06:33:34'),
(84, 12, 32, '2026-01-02', '1/2', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(85, 12, 32, '2026-01-05', '1/P', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(86, 12, 32, '2026-01-08', 'Ô', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(87, 12, 32, '2026-01-09', 'R', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(88, 12, 32, '2026-01-10', 'F', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(89, 12, 32, '2026-01-11', 'F1', '', 'symbol', 1, '2026-01-22 06:35:08'),
(90, 12, 32, '2026-01-12', 'CD', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(91, 12, 32, '2026-01-16', 'TS', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(92, 12, 32, '2026-01-19', 'NB', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(93, 13, 32, '2026-01-01', '', 'L', 'symbol', 1, '2026-01-22 06:35:08'),
(94, 13, 32, '2026-01-02', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(95, 13, 32, '2026-01-03', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(96, 13, 32, '2026-01-05', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(97, 13, 32, '2026-01-06', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(98, 13, 32, '2026-01-07', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(99, 13, 32, '2026-01-08', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(100, 13, 32, '2026-01-09', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(101, 13, 32, '2026-01-10', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(102, 13, 32, '2026-01-12', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(103, 13, 32, '2026-01-13', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(104, 13, 32, '2026-01-14', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(105, 13, 32, '2026-01-15', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(106, 13, 32, '2026-01-16', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(107, 13, 32, '2026-01-17', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(108, 13, 32, '2026-01-19', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(109, 13, 32, '2026-01-20', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(110, 13, 32, '2026-01-21', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(111, 13, 32, '2026-01-22', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(112, 13, 32, '2026-01-23', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(113, 13, 32, '2026-01-24', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(114, 13, 32, '2026-01-26', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(115, 13, 32, '2026-01-27', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(116, 13, 32, '2026-01-28', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(117, 13, 32, '2026-01-29', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(118, 13, 32, '2026-01-30', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(119, 13, 32, '2026-01-31', '', 'X', 'symbol', 1, '2026-01-22 06:35:08'),
(120, 15, 32, '2026-01-01', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(121, 15, 32, '2026-01-02', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(122, 15, 32, '2026-01-03', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(123, 15, 32, '2026-01-05', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(124, 15, 32, '2026-01-06', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(125, 15, 32, '2026-01-07', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(126, 15, 32, '2026-01-08', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(127, 15, 32, '2026-01-09', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(128, 15, 32, '2026-01-10', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(129, 15, 32, '2026-01-12', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(130, 15, 32, '2026-01-13', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(131, 15, 32, '2026-01-14', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(132, 15, 32, '2026-01-15', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(133, 15, 32, '2026-01-16', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(134, 15, 32, '2026-01-17', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(135, 15, 32, '2026-01-19', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(136, 15, 32, '2026-01-20', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(137, 15, 32, '2026-01-21', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(138, 15, 32, '2026-01-22', 'X', '', 'symbol', 1, '2026-01-22 06:35:08'),
(139, 1, 37, '2026-01-01', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(140, 1, 37, '2026-01-02', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(141, 1, 37, '2026-01-03', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(142, 1, 37, '2026-01-05', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(143, 1, 37, '2026-01-06', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(144, 1, 37, '2026-01-07', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(145, 1, 37, '2026-01-08', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(146, 1, 37, '2026-01-09', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(147, 1, 37, '2026-01-10', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(148, 1, 37, '2026-01-12', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(149, 1, 37, '2026-01-13', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(150, 1, 37, '2026-01-14', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(151, 1, 37, '2026-01-15', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(152, 1, 37, '2026-01-16', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(153, 1, 37, '2026-01-17', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(154, 1, 37, '2026-01-19', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(155, 1, 37, '2026-01-20', NULL, 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(156, 1, 37, '2026-01-21', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(157, 1, 37, '2026-01-22', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(158, 1, 37, '2026-01-23', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(159, 1, 37, '2026-01-24', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(160, 1, 37, '2026-01-26', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(161, 1, 37, '2026-01-27', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(162, 1, 37, '2026-01-28', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(163, 1, 37, '2026-01-29', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(164, 1, 37, '2026-01-30', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(165, 1, 37, '2026-01-31', '', 'X', 'symbol', 1, '2026-01-22 07:19:33'),
(166, 1, 37, '2026-01-01', 'X', 'L', 'symbol', 1, '2026-01-22 07:19:47');

-- --------------------------------------------------------

--
-- Table structure for table `attendance_symbols`
--

CREATE TABLE `attendance_symbols` (
  `id` int(11) NOT NULL,
  `code` varchar(10) NOT NULL,
  `name` varchar(100) NOT NULL,
  `description` varchar(255) DEFAULT NULL,
  `is_paid` tinyint(1) DEFAULT 1 COMMENT '1: Có lương, 0: Không lương',
  `work_day_value` float DEFAULT 1 COMMENT 'Quy đổi ra ngày công (1, 0.5, 0)',
  `color` varchar(20) DEFAULT '#64748b',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `attendance_symbols`
--

INSERT INTO `attendance_symbols` (`id`, `code`, `name`, `description`, `is_paid`, `work_day_value`, `color`, `created_at`) VALUES
(1, 'X', 'Đi làm hưởng lương', 'Làm cả ngày', 1, 1, '#24a25c', '2026-01-21 03:54:19'),
(2, '1/2', 'Nửa ngày làm việc', 'Làm nửa ngày', 1, 0.5, '#24a25c', '2026-01-21 03:54:19'),
(3, 'P', 'Nghỉ phép', 'Nghỉ phép năm', 1, 1, '#3b82f6', '2026-01-21 03:54:19'),
(4, '1/P', 'Nửa phép nửa làm', 'Nửa phép nửa làm', 1, 1, '#3b82f6', '2026-01-21 03:54:19'),
(5, 'Ô', 'Nghỉ ốm', 'Ốm đau có giấy', 0, 0, '#f59e0b', '2026-01-21 03:54:19'),
(6, 'R', 'Việc riêng', 'Nghỉ việc riêng không lương', 0, 0, '#94a3b8', '2026-01-21 03:54:19'),
(7, 'CĐ', 'Nghỉ chế độ', 'Hiếu hỉ, ma chay', 1, 1, '#8b5cf6', '2026-01-21 03:54:19'),
(8, 'ĐH', 'Đi học/Họp', 'Công tác', 1, 1, '#06b6d4', '2026-01-21 03:54:19'),
(9, 'Ts', 'Thai sản', 'Nghỉ thai sản', 0, 0, '#ec4899', '2026-01-21 03:54:19'),
(10, 'L,T', 'Lễ, Tết', 'Nghỉ lễ tết hưởng nguyên lương', 1, 1, '#ef4444', '2026-01-21 03:54:19'),
(11, 'OF', 'Nghỉ tuần', 'Ngày nghỉ hàng tuần (CN)', 0, 0, '#e2e8f0', '2026-01-21 03:54:19'),
(12, 'Nb', 'Nghỉ bù', 'Nghỉ bù', 1, 1, '#10b981', '2026-01-21 03:54:19'),
(13, 'F', 'Làm lễ tết', 'Đi làm ngày lễ tết', 1, 1, '#dc2626', '2026-01-21 03:54:19'),
(14, 'F1', 'Làm chủ nhật', 'Đi làm ngày nghỉ tuần', 1, 1, '#f97316', '2026-01-21 03:54:19');

-- --------------------------------------------------------

--
-- Table structure for table `contracts`
--

CREATE TABLE `contracts` (
  `id` int(11) NOT NULL,
  `employee_id` int(11) NOT NULL,
  `contract_number` varchar(50) DEFAULT NULL,
  `contract_type` enum('thu_viec','co_thoi_han','khong_thoi_han','khoan_viec') NOT NULL,
  `start_date` date NOT NULL,
  `end_date` date DEFAULT NULL,
  `basic_salary` decimal(15,2) DEFAULT 0.00,
  `allowance` decimal(15,2) DEFAULT 0.00,
  `status` enum('active','expired','cancelled') DEFAULT 'active',
  `file_path` varchar(255) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `departments`
--

CREATE TABLE `departments` (
  `id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `code` varchar(20) NOT NULL,
  `description` text DEFAULT NULL,
  `stt` int(11) DEFAULT 99
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `departments`
--

INSERT INTO `departments` (`id`, `name`, `code`, `description`, `stt`) VALUES
(1, 'Ban Giám Đốc', 'BGD', NULL, 0),
(3, 'Phòng Kế toán', 'KT', NULL, 1),
(6, 'Vệ sinh - Tạp Vụ', 'VS', NULL, 8),
(8, 'Phòng IT', 'IT', NULL, 4),
(14, 'Phòng Kinh doanh', 'KD', NULL, 2),
(15, 'Phòng Nhân sự', 'NS', NULL, 3),
(17, 'Kỹ thuật', 'KYT', NULL, 6),
(19, 'Ban Quản lý', 'BQL', NULL, 5),
(20, 'Cây xanh', 'CX', NULL, 9),
(21, 'An ninh - Bảo vệ', 'AN', NULL, 7);

-- --------------------------------------------------------

--
-- Table structure for table `documents`
--

CREATE TABLE `documents` (
  `id` int(11) NOT NULL,
  `employee_id` int(11) NOT NULL,
  `doc_type` varchar(50) NOT NULL COMMENT 'CCCD, HoKhau, SoYeuLyLich, BangCap, GiayKhamSucKhoe...',
  `doc_name` varchar(150) DEFAULT NULL,
  `file_path` varchar(255) DEFAULT NULL,
  `is_submitted` tinyint(1) DEFAULT 0,
  `approval_status` enum('approved','pending','rejected') DEFAULT 'approved',
  `expiry_date` date DEFAULT NULL,
  `note` text DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `documents`
--

INSERT INTO `documents` (`id`, `employee_id`, `doc_type`, `doc_name`, `file_path`, `is_submitted`, `approval_status`, `expiry_date`, `note`, `created_at`) VALUES
(10, 2, 'CCCD', NULL, 'upload/documents/CAO_MINH_THANG_9061/CCCD_1768895517_471.jpg', 1, 'approved', '0000-00-00', NULL, '2026-01-20 07:51:57');

-- --------------------------------------------------------

--
-- Table structure for table `document_settings`
--

CREATE TABLE `document_settings` (
  `id` int(11) NOT NULL,
  `code` varchar(50) NOT NULL,
  `name` varchar(100) NOT NULL,
  `is_required` tinyint(1) DEFAULT 1,
  `is_multiple` tinyint(1) DEFAULT 0,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `document_settings`
--

INSERT INTO `document_settings` (`id`, `code`, `name`, `is_required`, `is_multiple`, `created_at`) VALUES
(1, 'CCCD', 'Căn cước công dân', 1, 0, '2026-01-20 04:03:38'),
(2, 'HK', 'Hộ khẩu / Xác nhận cư trú', 1, 0, '2026-01-20 04:03:38'),
(3, 'SYLL', 'Sơ yếu lý lịch', 1, 0, '2026-01-20 04:03:38'),
(4, 'BC', 'Bằng cấp / Chứng chỉ', 0, 1, '2026-01-20 04:03:38'),
(5, 'GKSK', 'Giấy khám sức khỏe', 1, 0, '2026-01-20 04:03:38'),
(6, 'HDLD', 'Hợp đồng lao động', 1, 0, '2026-01-20 04:03:38'),
(7, 'BH', 'Hồ sơ bảo hiểm', 0, 0, '2026-01-20 04:03:38'),
(9, 'DXV', 'Đơn xin việc', 1, 0, '2026-01-20 05:08:59'),
(12, 'XNHK', 'Xác nhận hạnh kiểm', 0, 0, '2026-01-20 05:08:59'),
(13, 'CK', 'Cam kết nhân viên', 1, 0, '2026-01-20 05:08:59'),
(14, 'CKT', 'Cam kết thuế TNCN', 0, 0, '2026-01-20 05:08:59');

-- --------------------------------------------------------

--
-- Table structure for table `employees`
--

CREATE TABLE `employees` (
  `id` int(11) NOT NULL,
  `code` varchar(20) NOT NULL,
  `fullname` varchar(100) NOT NULL,
  `avatar` varchar(255) DEFAULT NULL,
  `gender` enum('Nam','N???','Kh??c') DEFAULT 'Nam',
  `dob` date DEFAULT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `email` varchar(100) DEFAULT NULL,
  `address` varchar(255) DEFAULT NULL,
  `permanent_address` varchar(255) DEFAULT NULL COMMENT 'H??? kh???u th?????ng tr??',
  `identity_card` varchar(20) DEFAULT NULL COMMENT 'CCCD/CMND',
  `identity_date` date DEFAULT NULL,
  `identity_place` varchar(100) DEFAULT NULL,
  `department_id` int(11) DEFAULT NULL,
  `position_id` int(11) DEFAULT NULL,
  `current_project_id` int(11) DEFAULT NULL,
  `position` varchar(100) DEFAULT NULL COMMENT 'Ch???c v???: T??? tr?????ng, K??? s??, NV...',
  `status` enum('working','resigned','maternity_leave','unpaid_leave') DEFAULT 'working',
  `start_date` date DEFAULT NULL,
  `end_date` date DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `employees`
--

INSERT INTO `employees` (`id`, `code`, `fullname`, `avatar`, `gender`, `dob`, `phone`, `email`, `address`, `permanent_address`, `identity_card`, `identity_date`, `identity_place`, `department_id`, `position_id`, `current_project_id`, `position`, `status`, `start_date`, `end_date`, `created_at`, `updated_at`) VALUES
(1, 'NV001', 'Lê Hoàng Thái', NULL, 'Nam', '1996-11-14', '0349973754', 'thaishadow1411@gmail.com', NULL, NULL, '094096009060', NULL, NULL, 14, 23, 37, 'Nhân viên', 'working', '2025-01-01', NULL, '2026-01-20 03:52:17', '2026-01-20 04:16:46'),
(2, 'NV002', 'Cao Minh Thắng', NULL, 'Nam', '2000-06-25', '0376701749', 'thangminhcaoss@gmail.com', NULL, NULL, '094096009061', NULL, NULL, 8, 27, 37, 'Nhân viên', 'working', '2026-01-01', NULL, '2026-01-20 07:44:22', '2026-01-22 07:16:28'),
(12, 'TPZ5163', 'Hồ Thị Xuân Hà', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, '', NULL, NULL, 19, 33, 32, 'Trưởng Ban', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-21 07:52:24'),
(13, 'TPZ9061', 'Vân Thị Ngọc Linh', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, '', NULL, NULL, 19, 39, 32, 'Kế toán dự án', 'working', '0000-00-00', NULL, '2026-01-21 07:28:15', '2026-01-21 07:39:37'),
(14, 'TPZ8090', 'Hồ Thị Hoà', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 19, 35, 32, 'Giám sát DV', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 07:13:51'),
(15, 'TPZ7888', 'Ngô Hữu Kim Hưng', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, '', NULL, NULL, 17, 29, 32, 'Tổ trưởng', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-21 07:54:28'),
(16, 'TPZ4036', 'Cao Thành Trí', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 17, 30, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:17:54'),
(17, 'TPZ3767', 'Lê Từ Tâm', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 17, 30, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:17:30'),
(18, 'TPZ2301', 'Nguyễn Thanh Long', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 21, 38, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:27:03'),
(19, 'TPZ1790', 'Nguyễn Hoàng Hùng', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 21, 38, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:29:10'),
(20, 'TPZ3462', 'Phan Văn Liêm', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 21, 38, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:28:45'),
(21, 'TPZ4460', 'Bùi Minh Tuấn', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 21, 38, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:28:56'),
(22, 'TPZ6870', 'Nguyễn Thanh Tính', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 21, 38, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:28:51'),
(23, 'TPZ6610', 'Lê Văn Hưng', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 21, 38, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:28:38'),
(24, 'TPZ9930', 'Nguyễn Anh Tuấn', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 21, 38, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:28:29'),
(25, 'TPZ6118', 'Trần Văn Tráng', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, '', NULL, NULL, 21, 37, 32, 'Tổ trưởng', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-21 07:55:35'),
(26, 'TPZ2378', 'Phạm Văn Thu', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, '', NULL, NULL, 21, 37, 32, 'Tổ trưởng', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-21 07:55:15'),
(27, 'TPZ1212', 'Lưu Xuân Hiệu', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 21, 38, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:28:18'),
(28, 'TPZ2826', 'Lê Tiến Sĩ', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 21, 38, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:28:06'),
(29, 'TPZ7953', 'Phù Chí Hùng', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 21, 38, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:27:59'),
(30, 'TPZ5188', 'Nguyễn Thị Thu Nga', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 6, 32, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:27:44'),
(31, 'TPZ8798', 'Võ Thị Hạnh', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 6, 32, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:27:31'),
(32, 'TPZ1587', 'Hàng Thị Thu', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 6, 32, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:27:37'),
(33, 'TPZ8684', 'Nguyễn Thị Huệ', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 6, 31, 32, 'Tổ trưởng', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:30:32'),
(34, 'TPZ4499', 'Lê Thanh Tùng', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 6, 32, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:27:14'),
(35, 'TPZ9454', 'Phạm Lệ Mỹ', NULL, 'Nam', '0000-00-00', '', '', NULL, NULL, 'admin', NULL, NULL, 6, 32, 32, 'Nhân viên', 'working', NULL, NULL, '2026-01-21 07:28:15', '2026-01-22 01:26:52');

-- --------------------------------------------------------

--
-- Table structure for table `employee_leave_balances`
--

CREATE TABLE `employee_leave_balances` (
  `id` int(11) NOT NULL,
  `employee_id` int(11) NOT NULL,
  `year` int(11) NOT NULL,
  `total_days` decimal(4,1) DEFAULT 12.0 COMMENT 'Tổng ngày phép trong năm',
  `carried_over` decimal(4,1) DEFAULT 0.0 COMMENT 'Phép năm trước chuyển sang',
  `used_days` decimal(4,1) DEFAULT 0.0 COMMENT 'Đã sử dụng',
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `employee_leave_balances`
--

INSERT INTO `employee_leave_balances` (`id`, `employee_id`, `year`, `total_days`, `carried_over`, `used_days`, `updated_at`) VALUES
(1, 1, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(2, 2, 2026, 12.0, 0.0, 2.0, '2026-01-22 05:54:06'),
(3, 12, 2026, 12.0, 0.0, 2.0, '2026-01-22 06:35:08'),
(4, 13, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(5, 14, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(6, 15, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(7, 16, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(8, 17, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(9, 18, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(10, 19, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(11, 20, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(12, 21, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(13, 22, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(14, 23, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(15, 24, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(16, 25, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(17, 26, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(18, 27, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(19, 28, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(20, 29, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(21, 30, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(22, 31, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(23, 32, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(24, 33, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(25, 34, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22'),
(26, 35, 2026, 12.0, 0.0, 0.0, '2026-01-22 03:13:22');

-- --------------------------------------------------------

--
-- Table structure for table `employee_salaries`
--

CREATE TABLE `employee_salaries` (
  `id` int(11) NOT NULL,
  `employee_id` int(11) NOT NULL,
  `basic_salary` decimal(15,2) DEFAULT 0.00 COMMENT 'Lương cơ bản',
  `insurance_salary` decimal(15,2) DEFAULT 0.00,
  `allowance_total` decimal(15,2) DEFAULT 0.00,
  `salary_advances_default` decimal(15,2) DEFAULT 0.00,
  `allowance_meal` decimal(15,2) DEFAULT 0.00 COMMENT 'Phụ cấp ăn ca',
  `allowance_phone` decimal(15,2) DEFAULT 0.00 COMMENT 'Phụ cấp điện thoại',
  `allowance_travel` decimal(15,2) DEFAULT 0.00 COMMENT 'Phụ cấp đi lại',
  `bhxh_percent` decimal(4,2) DEFAULT 10.50 COMMENT 'Tỷ lệ trừ BHXH (%)',
  `income_tax_percent` decimal(4,2) DEFAULT 0.00,
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `employee_salaries`
--

INSERT INTO `employee_salaries` (`id`, `employee_id`, `basic_salary`, `insurance_salary`, `allowance_total`, `salary_advances_default`, `allowance_meal`, `allowance_phone`, `allowance_travel`, `bhxh_percent`, `income_tax_percent`, `updated_at`) VALUES
(1, 2, 8500000.00, 5400000.00, 500000.00, 2000000.00, 0.00, 0.00, 0.00, 10.50, 0.00, '2026-01-22 05:46:51'),
(5, 14, 15000000.00, 7000000.00, 0.00, 0.00, 0.00, 0.00, 0.00, 10.50, 0.00, '2026-01-22 06:37:15'),
(6, 12, 22000000.00, 9000000.00, 0.00, 0.00, 0.00, 0.00, 0.00, 10.50, 0.00, '2026-01-22 06:37:16'),
(7, 13, 13000000.00, 7000000.00, 0.00, 0.00, 0.00, 0.00, 0.00, 10.50, 0.00, '2026-01-22 06:37:48'),
(14, 1, 10000000.00, 5800000.00, 500000.00, 3000000.00, 0.00, 0.00, 0.00, 10.50, 0.00, '2026-01-22 07:24:04');

-- --------------------------------------------------------

--
-- Table structure for table `employee_status_history`
--

CREATE TABLE `employee_status_history` (
  `id` int(11) NOT NULL,
  `employee_id` int(11) NOT NULL,
  `old_status` varchar(50) DEFAULT NULL,
  `new_status` varchar(50) DEFAULT NULL,
  `change_date` date DEFAULT NULL,
  `note` text DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `insurances`
--

CREATE TABLE `insurances` (
  `id` int(11) NOT NULL,
  `employee_id` int(11) NOT NULL,
  `insurance_number` varchar(50) DEFAULT NULL,
  `bhxh_status` tinyint(1) DEFAULT 0 COMMENT '1: ???? tham gia, 0: Ch??a',
  `bhyt_status` tinyint(1) DEFAULT 0,
  `bhtn_status` tinyint(1) DEFAULT 0,
  `start_date` date DEFAULT NULL,
  `end_date` date DEFAULT NULL,
  `hospital_registration` varchar(150) DEFAULT NULL COMMENT 'N??i ??K KCB ban ?????u',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `leave_requests`
--

CREATE TABLE `leave_requests` (
  `id` int(11) NOT NULL,
  `employee_id` int(11) NOT NULL,
  `leave_type` enum('P','CĐ','VR','Ô','TS','NB','KL') NOT NULL,
  `start_date` date NOT NULL,
  `end_date` date NOT NULL,
  `total_days` decimal(4,1) NOT NULL,
  `reason` text DEFAULT NULL,
  `status` enum('pending','approved','rejected') DEFAULT 'pending',
  `approved_by` int(11) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `payroll`
--

CREATE TABLE `payroll` (
  `id` int(11) NOT NULL,
  `employee_id` int(11) NOT NULL,
  `month` int(11) NOT NULL,
  `year` int(11) NOT NULL,
  `standard_days` int(11) DEFAULT 26,
  `total_work_days` decimal(4,1) DEFAULT 0.0,
  `paid_leave_days` decimal(4,1) DEFAULT 0.0,
  `holiday_work_days` decimal(4,1) DEFAULT 0.0,
  `holiday_paid_days` decimal(4,1) DEFAULT 0.0,
  `total_ot_hours` decimal(5,1) DEFAULT 0.0,
  `salary_actual` decimal(15,2) DEFAULT 0.00 COMMENT 'Lương thực tế theo ngày công',
  `ot_amount` decimal(15,2) DEFAULT 0.00 COMMENT 'Tiền tăng ca',
  `support_amount` decimal(15,2) DEFAULT 0.00 COMMENT 'Tiền hỗ trợ dự án',
  `total_allowance` decimal(15,2) DEFAULT 0.00,
  `bhxh_amount` decimal(15,2) DEFAULT 0.00,
  `salary_advances` decimal(15,2) DEFAULT 0.00,
  `union_fee` decimal(15,2) DEFAULT 0.00,
  `income_tax` decimal(15,2) DEFAULT 0.00,
  `bonus_amount` decimal(15,2) DEFAULT 0.00,
  `net_salary` decimal(15,2) DEFAULT 0.00 COMMENT 'Thực lĩnh',
  `status` enum('draft','published','paid') DEFAULT 'draft',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `payroll`
--

INSERT INTO `payroll` (`id`, `employee_id`, `month`, `year`, `standard_days`, `total_work_days`, `paid_leave_days`, `holiday_work_days`, `holiday_paid_days`, `total_ot_hours`, `salary_actual`, `ot_amount`, `support_amount`, `total_allowance`, `bhxh_amount`, `salary_advances`, `union_fee`, `income_tax`, `bonus_amount`, `net_salary`, `status`, `created_at`) VALUES
(1, 2, 1, 2026, 27, 24.0, 2.0, 0.0, 1.0, 0.0, 7555555.56, 0.00, 0.00, 500000.00, 567000.00, 2000000.00, 54000.00, 0.00, 0.00, 6379000.00, 'draft', '2026-01-22 05:43:34'),
(7, 2, 10, 2025, 27, 25.0, 2.0, 0.0, 0.0, 0.0, 7870370.37, 0.00, 0.00, 500000.00, 567000.00, 2000000.00, 54000.00, 0.00, 0.00, 6379000.00, 'draft', '2026-01-22 05:54:49'),
(11, 14, 1, 2026, 27, 26.0, 0.0, 0.0, 1.0, 0.0, 14444444.44, 0.00, 0.00, 0.00, 735000.00, 0.00, 54000.00, 0.00, 0.00, 14211000.00, 'draft', '2026-01-22 06:36:24'),
(12, 12, 1, 2026, 27, 24.0, 2.0, 0.0, 1.0, 0.0, 19555555.56, 0.00, 0.00, 0.00, 945000.00, 0.00, 54000.00, 0.00, 0.00, 21001000.00, 'draft', '2026-01-22 06:36:25'),
(13, 13, 1, 2026, 27, 26.0, 0.0, 0.0, 1.0, 0.0, 12518518.52, 0.00, 0.00, 0.00, 735000.00, 0.00, 54000.00, 0.00, 0.00, 12211000.00, 'draft', '2026-01-22 06:36:31'),
(33, 1, 1, 2026, 27, 26.0, 0.0, 0.0, 1.0, 0.0, 9629629.63, 0.00, 0.00, 500000.00, 609000.00, 3000000.00, 54000.00, 0.00, 0.00, 6837000.00, 'draft', '2026-01-22 07:18:53');

-- --------------------------------------------------------

--
-- Table structure for table `permissions`
--

CREATE TABLE `permissions` (
  `id` int(11) NOT NULL,
  `code` varchar(50) NOT NULL,
  `name` varchar(100) NOT NULL,
  `module` varchar(50) NOT NULL COMMENT 'Nhóm quyền: employees, attendance, salary...'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `permissions`
--

INSERT INTO `permissions` (`id`, `code`, `name`, `module`) VALUES
(1, 'view_all_employees', 'Xem toàn bộ nhân viên', 'employees'),
(2, 'edit_employee', 'Sửa thông tin nhân viên', 'employees'),
(3, 'view_attendance', 'Xem bảng chấm công', 'attendance'),
(4, 'edit_attendance', 'Chấm công nhân viên', 'attendance'),
(5, 'lock_attendance', 'Khóa/Mở khóa bảng công', 'attendance'),
(6, 'view_salary', 'Xem bảng lương', 'salary'),
(7, 'edit_salary', 'Tính lương nhân viên', 'salary'),
(8, 'manage_projects', 'Quản lý dự án', 'projects'),
(9, 'manage_system', 'Cài đặt hệ thống', 'system');

-- --------------------------------------------------------

--
-- Table structure for table `positions`
--

CREATE TABLE `positions` (
  `id` int(11) NOT NULL,
  `department_id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `stt` int(11) DEFAULT 99
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `positions`
--

INSERT INTO `positions` (`id`, `department_id`, `name`, `created_at`, `stt`) VALUES
(17, 1, 'Tổng Giám Đốc', '2026-01-20 04:14:29', 0),
(18, 1, 'Phó Tổng Giám Đốc', '2026-01-20 04:14:29', 1),
(19, 3, 'Trưởng Phòng', '2026-01-20 04:14:29', 0),
(20, 3, 'Kế toán', '2026-01-20 04:14:29', 1),
(22, 14, 'Trưởng Phòng', '2026-01-20 04:14:29', 0),
(23, 14, 'Nhân viên', '2026-01-20 04:14:29', 1),
(24, 15, 'Trưởng Phòng', '2026-01-20 04:14:29', 0),
(25, 15, 'Nhân viên', '2026-01-20 04:14:29', 1),
(26, 8, 'Trưởng phòng IT', '2026-01-20 04:14:29', 0),
(27, 8, 'Nhân viên', '2026-01-20 04:14:29', 1),
(28, 17, 'Kỹ sư trưởng', '2026-01-20 04:14:29', 0),
(29, 17, 'Tổ trưởng', '2026-01-20 04:14:29', 1),
(30, 17, 'Nhân viên', '2026-01-20 04:14:29', 2),
(31, 6, 'Tổ trưởng', '2026-01-20 04:14:29', 0),
(32, 6, 'Nhân viên', '2026-01-20 04:14:29', 1),
(33, 19, 'Trưởng Ban', '2026-01-20 05:16:38', 0),
(34, 19, 'Phó Ban', '2026-01-20 05:16:46', 1),
(35, 19, 'Giám sát DV', '2026-01-20 05:16:53', 2),
(36, 20, 'Nhân viên', '2026-01-20 06:29:30', 0),
(37, 21, 'Tổ trưởng', '2026-01-21 03:28:33', 0),
(38, 21, 'Nhân viên', '2026-01-21 03:28:38', 1),
(39, 19, 'Kế toán dự án', '2026-01-21 07:07:14', 3),
(40, 19, 'Lễ tân', '2026-01-21 07:07:27', 4),
(41, 19, 'Chăm sóc khách hàng', '2026-01-21 07:07:46', 5);

-- --------------------------------------------------------

--
-- Table structure for table `projects`
--

CREATE TABLE `projects` (
  `id` int(11) NOT NULL,
  `stt` int(11) DEFAULT 0,
  `name` varchar(150) NOT NULL,
  `code` varchar(50) NOT NULL,
  `address` varchar(255) DEFAULT NULL,
  `manager_id` int(11) DEFAULT NULL COMMENT 'ID of the project manager (user_id)',
  `headcount_required` int(11) DEFAULT 0 COMMENT 'Định biên nhân sự cần thiết',
  `status` enum('active','completed','pending') DEFAULT 'active',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `projects`
--

INSERT INTO `projects` (`id`, `stt`, `name`, `code`, `address`, `manager_id`, `headcount_required`, `status`, `created_at`) VALUES
(1, 0, '4S RIVERSIDE GARDEN', 'DA4SRS', '75/15 Đường số 17 Khu Phố 3, Phường Hiệp Bình, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(2, 0, 'CANTAVIL PREMIER', 'DACTVPRM', 'Số 1 Song Hành, Phường Bình Trưng, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(3, 0, 'CITIZEN.TS', 'DACTZ', 'Đường số 9A Khu dân cư Trung Sơn, Phường Bình Đông, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(4, 0, 'CITRINE APARTMENT', 'DACTP', '127 Tăng Nhơn Phú, Phường Phước Long, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(5, 0, 'COPAC SQUARE', 'DACPSQ', '12 Tôn Đản, Phường Xóm Chiếu, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(6, 0, 'FLORA ANH ĐÀO', 'DAFLRAD', '619 Đỗ Xuân Hợp, Phường Phước Long, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(7, 0, 'FLORA KIKYO', 'DAFLRKKO', 'Tổ 9 Khu Phố 2, Phường Phú Thuận, TP.HCM', NULL, 0, 'pending', '2026-01-20 02:53:58'),
(8, 0, 'HOÀNG ANH GIA LAI 2', 'DAHAGL2', '769-783 Trần Xuân Soạn, Phường Tân Hưng, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(9, 0, 'HOMYLAND 2', 'DAHML2', '307 Đường Nguyễn Duy Trinh, Phường Bình Trưng, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(10, 0, 'HORIZON', 'DAHRZ', '214 Trần Quang Khải, Phường Tân Định, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(11, 0, 'HƯNG PHÁT', 'DAHP1', '928 Lê Văn Lương, Xã Nhà Bè, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(12, 0, 'HƯNG PHÁT SILVER STAR', 'DAHP2', '156A Nguyễn Hữu Thọ, Xã Nhà Bè, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(13, 0, 'KHÁNH HỘI 1', 'DAKH1', '360C Bến Vân Đồn, Phường Vĩnh Hội, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(14, 0, 'KHÁNH HỘI 2', 'DAKH2', '360A Bến Vân Đồn, Phường Vĩnh Hội, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(15, 0, 'KHÁNH HỘI 3', 'DAKH3', '360G Bến Vân Đồn, Phường Vĩnh Hội, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(16, 0, 'LAN PHƯƠNG MHBR', 'DALPMHBR', '104 đường Hồ Văn Tư, Phường Trường Thọ, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(17, 0, 'LÔ R7 AN KHÁNH', 'DAR7AK', '23 Lưu Đình Lễ, Phường An Khánh, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(18, 0, 'NHẤT LAN II', 'DANL2', 'Đường 54A, Phường Tân Tạo, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(19, 0, 'ORIENT APARTMENT', 'DAORE', '331 Bến Vân Đồn, Phường Vĩnh Hội, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(20, 0, 'PHỐ GIA PHÚC', 'DAPGP', '94 Tô Vĩnh Diện, Phường Thủ Đức, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(21, 0, 'PHÚ GIA', 'DAPGA', 'Khu dân cư Phú Gia, Xã Nhà Bè, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(22, 0, 'SAI GON METRO PARK', 'DASGMT', 'Đường số 1, Phường Thủ Đức, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(23, 0, 'SAMSORA RIVERSIDE', 'DASSRRS', '207A Quốc lộ 1A Khu phố Quyết Thắng, Phường Dĩ An, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(24, 0, 'SCREC II', 'DASCRII', 'Đường số 4 Khu Đô thị mới, Phường Bình Trưng, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(25, 0, 'SEN HỒNG A', 'DASHA', 'Khu phố Bình Đường 3, Phường Dĩ An, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(26, 0, 'SEN HỒNG BC', 'DASHBC', 'Khu phố Bình Đường 3, Phường Dĩ An, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(27, 0, 'SÔNG ĐÀ', 'DASDTW', '14B Kỳ Đồng, Phường Nhiêu Lộc, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(28, 0, 'TAM PHÚ', 'DASVTP', '1A-1B Đường Cây Keo, Phường Tam Bình, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(29, 0, 'TDH - PHƯỚC LONG', 'DATDHPL', 'Đường 672, Phường Phước Long, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(30, 0, 'THE STAR', 'DATS', '1123 Quốc Lộ 1A, Phường Tân Tạo, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(31, 0, 'THE USEFUL APARTMENT', 'DAUFAP', '654/06 Lạc Long Quân, Phường Tân Hòa, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(32, 0, 'TOPAZ CITY KHỐI B', 'DATPCT', '39 Cao Lỗ, Phường Chánh Hưng, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(33, 0, 'TOPAZ ELITE PHOENIX 1', 'DATPEP1', '547-549 Tạ Quang Bửu, Phường Chánh Hưng, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(34, 0, 'TOPAZ ELITE PHOENIX 2', 'DATPEP2', '37 Cao Lỗ, Phường Chánh Hưng, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(35, 0, 'TOPAZ HOME 2 - BLOCK B', 'DATPH2', '215 Đường số 138, Phường Tăng Nhơn Phú, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(36, 0, 'VẠN ĐÔ', 'DAVDA', '348 Bến Vân Đồn, Phường Vĩnh Hội, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58'),
(37, 0, 'VĂN PHÒNG CÔNG TY', 'VPC', '360C Bến Vân Đồn, Phường Vĩnh Hội, TP.HCM', NULL, 0, 'active', '2026-01-20 02:53:58');

-- --------------------------------------------------------

--
-- Table structure for table `project_positions`
--

CREATE TABLE `project_positions` (
  `id` int(11) NOT NULL,
  `project_id` int(11) NOT NULL,
  `department_id` int(11) DEFAULT NULL,
  `position_name` varchar(100) NOT NULL COMMENT 'Lưu tên chức vụ để linh hoạt hoặc join với bảng positions',
  `count_required` int(11) DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `project_positions`
--

INSERT INTO `project_positions` (`id`, `project_id`, `department_id`, `position_name`, `count_required`, `created_at`) VALUES
(1, 13, NULL, 'Trưởng Ban quản lý', 1, '2026-01-20 05:17:20'),
(3, 37, 8, 'Trưởng Phòng', 1, '2026-01-20 08:15:01'),
(7, 32, 19, 'Giám sát dịch vụ', 1, '2026-01-21 03:19:11'),
(11, 32, 17, 'Nhân viên', 2, '2026-01-21 03:27:14'),
(21, 32, 6, 'Nhân viên', 5, '2026-01-21 03:36:17'),
(23, 32, 21, 'Nhân viên', 12, '2026-01-21 03:37:24'),
(24, 32, 6, 'Tổ trưởng', 1, '2026-01-21 07:46:06'),
(25, 32, 19, 'Trưởng Ban', 1, '2026-01-21 07:53:29'),
(26, 32, 17, 'Tổ trưởng', 1, '2026-01-21 07:54:52'),
(27, 32, 21, 'Tổ trưởng', 2, '2026-01-21 07:56:01'),
(28, 32, 19, 'Kế toán dự án', 1, '2026-01-22 01:32:23');

-- --------------------------------------------------------

--
-- Table structure for table `project_support_allowances`
--

CREATE TABLE `project_support_allowances` (
  `id` int(11) NOT NULL,
  `employee_id` int(11) NOT NULL,
  `project_id` int(11) NOT NULL,
  `support_date` date NOT NULL,
  `amount` decimal(15,2) DEFAULT 0.00 COMMENT 'Số tiền hỗ trợ/ngày',
  `note` text DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `proposals`
--

CREATE TABLE `proposals` (
  `id` int(11) NOT NULL,
  `employee_id` int(11) NOT NULL COMMENT 'Ng?????i t???o ????? xu???t',
  `project_id` int(11) DEFAULT NULL,
  `type` enum('leave','shift_change','personnel','overtime','other') NOT NULL,
  `title` varchar(150) NOT NULL,
  `content` text NOT NULL,
  `status` enum('pending','approved','rejected') DEFAULT 'pending',
  `approved_by` int(11) DEFAULT NULL,
  `approved_at` datetime DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `roles`
--

CREATE TABLE `roles` (
  `id` int(11) NOT NULL,
  `name` varchar(50) NOT NULL,
  `display_name` varchar(100) NOT NULL,
  `description` text DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `roles`
--

INSERT INTO `roles` (`id`, `name`, `display_name`, `description`) VALUES
(1, 'ADMIN', 'Quản trị hệ thống', NULL),
(2, 'HR_MANAGER', 'Trưởng phòng Nhân sự', NULL),
(3, 'IT', 'Quản trị IT', NULL),
(4, 'HR_ATTENDANCE', 'HR Chấm công', NULL),
(5, 'HR_SALARY', 'HR Tiền lương', NULL),
(6, 'HR_DOCUMENTS', 'HR Hồ sơ - Pháp chế', NULL);

-- --------------------------------------------------------

--
-- Table structure for table `role_permissions`
--

CREATE TABLE `role_permissions` (
  `role_id` int(11) NOT NULL,
  `permission_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `role_permissions`
--

INSERT INTO `role_permissions` (`role_id`, `permission_id`) VALUES
(1, 1),
(1, 2),
(1, 3),
(1, 4),
(1, 5),
(1, 6),
(1, 7),
(1, 8),
(1, 9),
(2, 1),
(2, 2),
(2, 3),
(2, 4),
(2, 5),
(2, 6),
(2, 8),
(4, 3),
(4, 4);

-- --------------------------------------------------------

--
-- Table structure for table `settings`
--

CREATE TABLE `settings` (
  `id` int(11) NOT NULL,
  `setting_key` varchar(50) NOT NULL,
  `setting_value` text DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `settings`
--

INSERT INTO `settings` (`id`, `setting_key`, `setting_value`) VALUES
(1, 'company_name', 'CÔNG TY TNHH KHASERVICE'),
(2, 'company_address', 'Tầng 1, Khu Thương Mại, 360C Bến Vân Đồn, Phường 1, Quận 4, TP.HCM'),
(3, 'admin_email', 'admin@khaservice.vn'),
(4, 'system_version', '1.0.0'),
(8, 'company_phone', '02838253041'),
(9, 'company_website', 'https://khaservice.com.vn/'),
(25, 'insurance_bhxh_percent', '8'),
(26, 'insurance_bhyt_percent', '1.5'),
(27, 'insurance_bhtn_percent', '1'),
(28, 'union_fee_amount', '54000');

-- --------------------------------------------------------

--
-- Table structure for table `shifts`
--

CREATE TABLE `shifts` (
  `id` int(11) NOT NULL,
  `project_id` int(11) DEFAULT NULL COMMENT 'NULL for global shifts (office), specific ID for project shifts',
  `name` varchar(100) NOT NULL COMMENT 'Ca H??nh ch??nh, Ca S??ng, Ca ????m...',
  `start_time` time NOT NULL,
  `end_time` time NOT NULL,
  `type` enum('office','8h','12h','24h') NOT NULL DEFAULT '8h',
  `description` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `shifts`
--

INSERT INTO `shifts` (`id`, `project_id`, `name`, `start_time`, `end_time`, `type`, `description`) VALUES
(1, 37, 'Ca hành chính', '08:00:00', '17:00:00', '8h', NULL);

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `id` int(11) NOT NULL,
  `employee_id` int(11) DEFAULT NULL,
  `username` varchar(50) NOT NULL,
  `password` varchar(255) NOT NULL,
  `fullname` varchar(100) NOT NULL,
  `email` varchar(100) DEFAULT NULL,
  `role` enum('admin','manager','staff') DEFAULT 'staff',
  `role_id` int(11) DEFAULT NULL,
  `status` tinyint(1) DEFAULT 1,
  `remember_token` varchar(100) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `employee_id`, `username`, `password`, `fullname`, `email`, `role`, `role_id`, `status`, `remember_token`, `created_at`, `updated_at`) VALUES
(1, NULL, 'admin', '$2y$10$GzcqUQwxLKC/wxCJP.g2l./Wi1GFc6mZXmhSlndw7iafRNSvmdLYe', 'Administrator', NULL, 'admin', 1, 1, 'Ls3ufoyrzPA1ZNtVfk4Q2IsShvZutOrbmvA3PYNYtZZ7CTBhBmAmrjEmoYwN', '2026-01-20 03:06:52', '2026-01-22 03:12:15');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `attendance`
--
ALTER TABLE `attendance`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unique_emp_date` (`employee_id`,`date`),
  ADD KEY `employee_id` (`employee_id`),
  ADD KEY `project_id` (`project_id`),
  ADD KEY `date` (`date`);

--
-- Indexes for table `attendance_locks`
--
ALTER TABLE `attendance_locks`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unique_lock` (`project_id`,`month`,`year`);

--
-- Indexes for table `attendance_logs`
--
ALTER TABLE `attendance_logs`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `attendance_symbols`
--
ALTER TABLE `attendance_symbols`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `code` (`code`);

--
-- Indexes for table `contracts`
--
ALTER TABLE `contracts`
  ADD PRIMARY KEY (`id`),
  ADD KEY `employee_id` (`employee_id`);

--
-- Indexes for table `departments`
--
ALTER TABLE `departments`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `code` (`code`);

--
-- Indexes for table `documents`
--
ALTER TABLE `documents`
  ADD PRIMARY KEY (`id`),
  ADD KEY `employee_id` (`employee_id`);

--
-- Indexes for table `document_settings`
--
ALTER TABLE `document_settings`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `code` (`code`);

--
-- Indexes for table `employees`
--
ALTER TABLE `employees`
  ADD PRIMARY KEY (`id`),
  ADD KEY `department_id` (`department_id`),
  ADD KEY `current_project_id` (`current_project_id`),
  ADD KEY `code` (`code`),
  ADD KEY `identity_card` (`identity_card`);

--
-- Indexes for table `employee_leave_balances`
--
ALTER TABLE `employee_leave_balances`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `employee_id` (`employee_id`);

--
-- Indexes for table `employee_salaries`
--
ALTER TABLE `employee_salaries`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `employee_id` (`employee_id`);

--
-- Indexes for table `employee_status_history`
--
ALTER TABLE `employee_status_history`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `insurances`
--
ALTER TABLE `insurances`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `employee_id` (`employee_id`);

--
-- Indexes for table `leave_requests`
--
ALTER TABLE `leave_requests`
  ADD PRIMARY KEY (`id`),
  ADD KEY `employee_id` (`employee_id`);

--
-- Indexes for table `payroll`
--
ALTER TABLE `payroll`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `employee_id` (`employee_id`,`month`,`year`);

--
-- Indexes for table `permissions`
--
ALTER TABLE `permissions`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `code` (`code`);

--
-- Indexes for table `positions`
--
ALTER TABLE `positions`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `projects`
--
ALTER TABLE `projects`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `code` (`code`);

--
-- Indexes for table `project_positions`
--
ALTER TABLE `project_positions`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unique_proj_dept_pos` (`project_id`,`department_id`,`position_name`);

--
-- Indexes for table `project_support_allowances`
--
ALTER TABLE `project_support_allowances`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `proposals`
--
ALTER TABLE `proposals`
  ADD PRIMARY KEY (`id`),
  ADD KEY `employee_id` (`employee_id`),
  ADD KEY `project_id` (`project_id`);

--
-- Indexes for table `roles`
--
ALTER TABLE `roles`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `name` (`name`);

--
-- Indexes for table `role_permissions`
--
ALTER TABLE `role_permissions`
  ADD PRIMARY KEY (`role_id`,`permission_id`),
  ADD KEY `permission_id` (`permission_id`);

--
-- Indexes for table `settings`
--
ALTER TABLE `settings`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `setting_key` (`setting_key`);

--
-- Indexes for table `shifts`
--
ALTER TABLE `shifts`
  ADD PRIMARY KEY (`id`),
  ADD KEY `project_id` (`project_id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `username` (`username`),
  ADD KEY `fk_users_employees` (`employee_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `attendance`
--
ALTER TABLE `attendance`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=189;

--
-- AUTO_INCREMENT for table `attendance_locks`
--
ALTER TABLE `attendance_locks`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=15;

--
-- AUTO_INCREMENT for table `attendance_logs`
--
ALTER TABLE `attendance_logs`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=167;

--
-- AUTO_INCREMENT for table `attendance_symbols`
--
ALTER TABLE `attendance_symbols`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=15;

--
-- AUTO_INCREMENT for table `contracts`
--
ALTER TABLE `contracts`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `departments`
--
ALTER TABLE `departments`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=22;

--
-- AUTO_INCREMENT for table `documents`
--
ALTER TABLE `documents`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- AUTO_INCREMENT for table `document_settings`
--
ALTER TABLE `document_settings`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=18;

--
-- AUTO_INCREMENT for table `employees`
--
ALTER TABLE `employees`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=36;

--
-- AUTO_INCREMENT for table `employee_leave_balances`
--
ALTER TABLE `employee_leave_balances`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=96;

--
-- AUTO_INCREMENT for table `employee_salaries`
--
ALTER TABLE `employee_salaries`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=18;

--
-- AUTO_INCREMENT for table `employee_status_history`
--
ALTER TABLE `employee_status_history`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `insurances`
--
ALTER TABLE `insurances`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `leave_requests`
--
ALTER TABLE `leave_requests`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `payroll`
--
ALTER TABLE `payroll`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=43;

--
-- AUTO_INCREMENT for table `permissions`
--
ALTER TABLE `permissions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=10;

--
-- AUTO_INCREMENT for table `positions`
--
ALTER TABLE `positions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=42;

--
-- AUTO_INCREMENT for table `projects`
--
ALTER TABLE `projects`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=40;

--
-- AUTO_INCREMENT for table `project_positions`
--
ALTER TABLE `project_positions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=29;

--
-- AUTO_INCREMENT for table `project_support_allowances`
--
ALTER TABLE `project_support_allowances`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `proposals`
--
ALTER TABLE `proposals`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `roles`
--
ALTER TABLE `roles`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT for table `settings`
--
ALTER TABLE `settings`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=43;

--
-- AUTO_INCREMENT for table `shifts`
--
ALTER TABLE `shifts`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `employee_leave_balances`
--
ALTER TABLE `employee_leave_balances`
  ADD CONSTRAINT `employee_leave_balances_ibfk_1` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `employee_salaries`
--
ALTER TABLE `employee_salaries`
  ADD CONSTRAINT `employee_salaries_ibfk_1` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `leave_requests`
--
ALTER TABLE `leave_requests`
  ADD CONSTRAINT `leave_requests_ibfk_1` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `role_permissions`
--
ALTER TABLE `role_permissions`
  ADD CONSTRAINT `role_permissions_ibfk_1` FOREIGN KEY (`role_id`) REFERENCES `roles` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `role_permissions_ibfk_2` FOREIGN KEY (`permission_id`) REFERENCES `permissions` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `users`
--
ALTER TABLE `users`
  ADD CONSTRAINT `fk_users_employees` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`) ON DELETE SET NULL;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
